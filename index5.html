<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <script>
    // function ListNode(value) - конструктор. Он принимает один аргумент value, 
    // который будет использоваться для установки значения нового элемента связанного списка.

    // this.value = value; устанавливает свойство value объекта, созданного с помощью конструктора.
    // Это свойство будет содержать данные, хранящиеся в элементе списка.

    // this.next = null; Здесь устанавливается свойство next объекта в значение null. next будет использоваться для хранения ссылки на следующий элемент связанного списка.
    // Изначально оно устанавливается в null, так как при создании нового элемента список пока не имеет следующего элемента.

    // Объект, представляющий элемент связного списка
    function ListNode(value) {
      this.value = value;
      this.next = null;
    }

    // Функция для преобразования JSON в связный список
    // function jsonToLinkedList(json) - Функция принимает один аргумент json.
    function jsonToLinkedList(json) {
      // Проверка на пустой JSON
      if (!json || json.length === 0) {
        return null;
      }

      // let head = new ListNode(json[0]); Если JSON-массив не пустой, то эта строка создаст первый элемент связанного списка, который является головой списка (head). 
      // Значение этой головы устанавливается равным первому элементу JSON-массива (json[0]).
      // Создаем голову связного списка из первого элемента JSON
      let head = new ListNode(json[0]);

      // Итерируемся по остальным элементам JSON и создаем связи между ними
      let current = head;
      // Следующая строка начинает цикл for, который начинается со второго элемента JSON-массива (индекс 1) (поскольку первый элемент нами уже был создан) и итерируется до конца массива.
      for (let i = 1; i < json.length; i++) {
      // Внутри цикла создается новый элемент связанного списка (newNode), который содержит значение из соответствующего элемента JSON-массива (json[i]).
        let newNode = new ListNode(json[i]);
        // Здесь текущему элементу (current) устанавливается ссылка next, указывающая на новый элемент newNode. Это соединяет текущий элемент со следующим элементом списка.
        current.next = newNode;
        // После установки ссылки next, current обновляется, чтобы указывать на новый элемент newNode. Теперь current становится новым текущим элементом для следующей итерации цикла.
        current = newNode;
      }

      return head;
    }

    // Пример использования:
    let jsonInput = [1, 2, 3, 4, 5];
    let linkedList = jsonToLinkedList(jsonInput);

    // Выводим связный список
    let current = linkedList;
    while (current) {
      console.log(current.value);
      current = current.next;
    }
  </script>
</body>

</html>